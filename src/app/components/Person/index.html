<div class="person" (click)="_selectPerson()">
  <div *ngIf="!_editable" [ngClass]="!selected ? ['person-info', 'selectable'] : 'person-info'">
    <div>{{ person?.name }}</div>
    <button *ngIf="selected" (click)="_editable = !_editable">edit</button>
  </div>

  <div *ngIf="_editable" class="person-info">
    <input #nameInput [value]="person?.name" />
    <button (click)="_editable = !_editable; _changeInfo({ name: nameInput.value })">save</button>
  </div>

  <div *ngIf="selected" class="add-person">
    <div>
      <span>Add</span>
      <select #newPersonRole>
        <option>father</option>
        <option>mother</option>
        <option>daughter</option>
        <option>son</option>
      </select>
    </div>
    <div>
      <input #newPersonNameInput />
      <button (click)="_addPerson({ name: newPersonNameInput. value, role: newPersonRole.value })">save</button>
    </div>
  </div>
</div>
